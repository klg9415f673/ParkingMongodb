var transform = require('./ParkingMongodb/ImageService/transform');
var dgram = require('dgram');
var client = dgram.createSocket('udp4');

var cameraData = "eeeeeef88a5ef5b980460001010c000400000000818126130000ffd8ffdb008400140e0f120f0d14121012171514181e32211e1c1c1e3d2c2e243249404c4b47404645505a736250556d5645466488656d777b8182814e608d978c7d96737e817c011517171e1a1e3b21213b7c5346537c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7cffc0001108007800a003012100021101031101ffdd0004000affc401a20000010501010101010100000000000000000102030405060708090a0b100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090aeeeeeef88a5ef5b980460001020c000400000000818126130000161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9fa0100030101010101010101010000000000000102030405060708090a0b1100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a63646566676869eeeeeef88a5ef5b980460001030c0004000000008181261300006a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00e56de169a40aa2badd2749550a48e69099d2db59ac4067ad5ac629892168a0a0a2800a2800a2800a2800a4a004a314c9b156ead12643c0cd71fae691b72f1ae08a423fffd0cfd16d390c45761628001488668834b4ca42d140c28a0028a0028a0028a0028a002928010d67ea100743c50433ffd19f4db6da839adeb740a064d23365b0411c514c62e6968293168a0614500145001450026696800aeeeeeef88a5ef5b980460001040c000400000000818126130000434098d271505c60ad041fffd2961bd822c00f93fec8cd4adac38388e2e3d58d222c491eaf72ec76a4781d793539d56741b9a25c7b1a2e1ca30eb77078548c7d79ab767ab890ed9c04ff006874a63b1a8ac1802a4107a114ea06828a0614500148681312968042d34d00c31513c79e9412d1ffd3ceb720c6cdd36feb56608c4ca371fcaa1b10f0fe5310a386c7b8a9c4a8ef9723000e37633f87e3400c830f20573f2f7e6ae476ea41e58536c63edefe6b5f9549d9d81e6b41358f372ab16d623839c8fc7a550855d466dc54ac671e99ff001abd6f31963cb001bd01a498c9a8a60252d002668cd02b8668073405c3349409b3ffd4cc8cedb424eeeeeef88a5ef5b980460001050c00040000000081812613000071b9bb74abd6c76c39f41e9ed59b02bc8f8b85007460783e83ff00ad4f56dc41dc324e3e61d79c7f4a044c8f952c1e36ea4738ab70a92acdbdc63d1b22818ddc590160cd9cf1b0678a88ceb0c87e56e075c53b88b31ce7ef0209233c83539762bf3c606ee845001134a394257dc355a4d52585b6480498fcea93b8161356899be6465f71cd5c8e78e5198dc35315c7e68a6019a4e948456bcbf82cd4199f04f403a9ac7bdf11a98ca5aa90c78dcdda80b5cfffd5c90dfb955c77f5abe0e213d4678e7eb59b0284ce1a638c1ebfad58b77c2ae598719fbb907a9e280260db97878dfe51f7d76f5356d5cadab1c2e493f74f14011c5911c43127ddeeeeeef88a5ef5b980460001060c000700000000818126130000fe13ef51492fef0fef644e7a6323f9d005b52cc836488781c115727e113a703340154c84e403d3a6299274041e48feb54806090f7e29e2620d5089d3519e2e5646c7a1e6a46d66678f612149fe25e0d02681b5a98000b01f45a65ff88495db6a0a9eecc39a056316e2e1ee64324adb9cd549186300e3d682cfffd6c7c0c4238048048357f38897a8e474e6b36065bbe59893d0771ef5a11060a001201b71f2fe028604dbbb170791c48bed52dd10b6580179ec0e052015176ede2418551953c74aaad311d2e187b3266981a087e7550d0b73823f8855ab93823a740334014f76475cf343920ae41fba3f9552022ce4e36b7e0334bb1900dfb4e7eeeeeef88a5ef5b980460001070c000700000000818126130000a7a8aa013ef92aa6a2691e138e31ee323fc695c4c4372a7efc2ac3d5299e659c9c7287df34c43becd0bafcae48fad40fa72e495908fc280b9fffd7c676fdec7cf41f5ab921c449f8f4e3b1acc0cc6c92c39ea0726afa0dccfb53248ea8f83d68604ccf8eae5793c48b9cfd3db9a92f9b16f1a8dbce29012b61379c4800cf20f1d2a04937c8a3cfde33cab27be3ad302ec00bdca12b111c9dc9d6a7b96c487b76ce680291601464d32753bd9bcd2075001aa402a320881dee587a9c8a90dcb189b692c474e7834c0a866666e4ed34a8eb201ce768ce7d78c500556461186070d9c0c1a8e46240dcbb8f7a04336f39462a7f2a4f3ee23fe3247bd1eeeeeef88a5ef5b980460001080c000700000000818126130000703fffd0c1dec2504e4903156a6b80c8060e707ad6605056cb8fa8abf161861bcb6c91d720f7a6c09c12300164241382370eb52de9ccd0267ab01d2a405c9d8cc5193af20e7bd242e5a45fdf07eff32608a605db31fbf04aa0207543c532f1899085c02727ebda840510cc5b321c7b548f874c83c77c55a01aa1095e0e474f4ad5f261ba855a58d22917a3af19fc28626529ece4453224a194727039c567994720724f19f5a10d3099b11c6abc6064f14c241b7c918249a00acecd9ef48588031d7d6981ffd1ce6b299a35509f3af5f98547f6195dd44859074c81bab315c99748566052e707fdb5c7eb9a64f6d71640174ca93f7b195a60993deeeeeef88a5ef5b980460001090c00070000000081812613000093c3b7e77d9db6e0eda9ee9632d14ab32b14eca739a2c041c471708cbee8727f2a22972ec4ccad807efa6314865fd3db7b3b855031c11d0d569dd4b1650370e801e29a0283cc77e4b64f7c54c2e814c28fceac02de6fdea8650dcf4e99ad55b984e44bb631db125262639043202d14cc7e841aca9215827703a76ed4909104aa09c839fc69b29dd1aa838c0e7f3aa28ae5481c7f3a8c920f1c9a00ffd24bb8cc9190b907d8d56d36ef63f9327fc07fc2a046c2b64714cb8b58ee530e39ec4500558e692c0ac73a2cb0f6c8e47d2b5606b79e3dd18461fee8e2980971a75bdc0e4329f5438acabdd2ae2252d1665c74c75fca8029a6a534419258eeeeeef88a5ef5b9804600010a0c000700000000818126130000761f65c11f8525aaf9c5db38cfdda064135a6e762876b0e7691c1a87ca9631923a7a55012c050004e33565363302e10af7a009b6d9924c4648d874c3119fa55595ca1264393db3d69212440d2eeea2a32e5bd314c646c73c034d4505d466803fffd39f865e6b22fadfcb904899193dbb1a8117b4fbdf3576b9c38ea2b494d318ae89221575041acf92d24b57325b31c7a7f8d022d5aea4ac424bf239fc8d5f0fdf34003857182011f4aa17166cae1e044c775031480ceba390559591c7b74acf72fd01c9fd0d50cab978d886cad4f14981ee7bd3024f3422fcbc934c0c1f96140c6b6c1db3f8d461c16c018a0423151d31440859dba8e300fd69eeeeeef88a5ef5b9804600010b0c000700000000818126130000303fffd47c6fb9692e2212a153c8350231487b69f238653f9d6e58dd0b88c11d7b8f4a605e069c2802add582ca0b47f2bfe86a947737164fb24cb0f46fe9480d3b7bd8a71f29c37707a8ab1b85318d9624997122861ef59975a32bfcd0c854fa3723f3a045196ce5552b7109c2f461c835992c6d03657943fa5318abd77374f4a52f83d300d3010b80718a6b063c81834804283b8fc69d1ec63b5db1dfae28607fffd5ad63316039ad124eda91142fadc48bb941dc3f5acd8a67b7903a7e23d6840741697893c4195bf0f4ab88dc673400fdd9a8a585265c483228032a7b07858bc4491db1d452c3a8cb16166f997d7bd203460bb8e61f230353eeeeeef88a5ef5b9804600010c0c0007000000008181261300006e14c61bbd6a9dcd9dbce0864033dc71401992e8a57fd54995f46e0d519e0787868c8f7eb4d3022298e714873d4f02801ac85b91d29f11545c49193ef8c8a4c0ffd9d595aa6a0595aa6a5595aa4ad5958a62459daa6a5d952a6a5495aa6b4585826a5795aa4a5595aa6a559d2b6a559daa7b1595ae6a5495aa6e1494aa6a5517ea625515ba7b5595aa6a5d912aea54b5aa6a5d95aa62559daa6a5585aa6bd5b5aa4a5595aa6ad1958a6ad595aa6a5155a86a51d5aa62159dae6a5595a82a4595aa6a55d5aa6e5595abab5595ab6ad595aa6e15952a2ad5958a6a5597e86e558daa685514aa6a54d4ea6b5715aa6a1d91aa6b5595ea6255952a6a"

let DataArr = cameraData.split(cameraData.substr(0,24));

console.log(DataArr)


DataArr.forEach(element => { 
    if(element!=""){
        let msg = Buffer.from(transform.stringToHex(cameraData.substr(0,24) + element))
       
        console.log(msg)
        client.send(msg,8888,'140.124.33.80');
        
        
    }

});

client.on('message', function (message, remote) {
    
    console.log(remote.address + ':' + remote.port +' - ' + message);

});


