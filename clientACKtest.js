var transform = require('./ImageService/transform');
var dgram = require('dgram');
var client = dgram.createSocket('udp4');
var OriginData = "eeeeeef88a5ef5b8dd420006010b000e000f0001cedb00190300ffd8ffdb008400140e0f120f0d14121012171514181e32211e1c1c1e3d2c2e243249404c4b47404645505a736250556d5645466488656d777b8182814e608d978c7d96737e817c011517171e1a1e3b21213b7c5346537c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7cffc0001108007800a003012100021101031101ffdd0004000affc401a20000010501010101010100000000000000000102030405060708090a0b100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090aeeeeeef88a5ef5b8dd420006020b000e000f0001cedb00190300161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9fa0100030101010101010101010000000000000102030405060708090a0b1100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a63646566676869eeeeeef88a5ef5b8dd420006030b000e000f0001cedb001903006a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00e55646470c8c411dc1a00a0095453c0e280142b679a5c63b500210452500281c62a4418a00b5145bb8f5a924b420700d00529622a79a84ae280198c5348a0060ebcd3b710a46060fb5003446d21da8a59bb00326a2c60d007fffd0e4c726a555ce3140129465621860f7cd4a899eb4012f97c5248abc6c040c0ce4e79a008f1f5a4d831400a169ea28034b4f8d4cab93819aeb25d32168368ea075eeeeeef88a5ef5b8dd420006040b000e000f0001cedb00190300f5a00e3efe208e40159af939cd00464530d0031852c6a646da319f738a006f43ef51b8e73401ffd1e55464d4a870411c1a009c396662c7716ea4f26aec16e4c9b783f439a00d0934f223cedacf962d84e477a00871b4e700fd69847e1400801a7a824f14016ed5bcb39ae862d518db9466e838a00c4bf7dcd91dcd65c828021614c22801b8cd348c1cd002919a691401ffd2e5c0cd3c0c1c5004c95b7a5157954be064f3401d84891fd9580036ede2b90bd1b5ce154d0067b262a32b9a0096d96332a094ed4cfcc71d053dd116665439504e0fad002fd2a5490814011bb6e3c8aaec06f24838f41401030e69840a00611cf4a49b0cec5576a939eeeeeef88a5ef5b8dd420006050b000e000f0001cedb001903000339c50046be94a45007ffd3e656a68577baa9214138c9e82801ebc1ad1b3711b03401bab7ee6209938acbba39909f5a00a8c33f4a8a4071c5000bc1c77a5c7cd93c50048bc77a783914008c066a075dbcf5a008ca82335132e28018c314d3401160eec814e2322803ffd4e60726a45a00956ad42db48e6802f47371c9a64aff0037140106e25883c5355307a9a000ae1c639a7138ebfad003370cf27229c251d05003cbe47538a56c119a0080c6475fe751b29cd00465298768a00633a8e951994f6a00ffd5e61454ab40128a991877a009d6418e29f90cb938a008da4524704d2ef3d863eb400d392324d228ddcd00298f34823c75a007ac65eeeeeef88a5ef5b8dd420006060b000e000f0001cedb0019030097e5cb63d0669cb1b8ea38a00475a85f8a00818d22c134bfeae366fc2801c74e94732b2c7f53cd44d0c11f52ce7f21401fffd6e647029eb9cf14013015220e680177107152ab64fb628014292c3d05295191ce2802558d9feea337e15662d3e67ecabf539a00b43483b72ecc7e8314dfb0c71f44e7d4f3400862e0e3b5356d679bfd542edee05003ff00b16e4f32b2443dcf34d3a55ac7ccb2bc87db81400dff00468bfd4c084fae3754334d2b0e3e51ee7fc280284a093cb7e5c5576818f45c0f53401fffd7e696a441cf4a00b03e829fb78cd003922dd9e0d598e0cf538fa0cd004ab6ca7aee3f8d588e145e8a07e14016e28f35af6b0a2807eeeeeef88a5ef5b8dd420006070b000e000f0001cedb0019030063b1fa7140168ab32e02281fed1cd40d611b12d3393fa0a0002dac5feaa3563ec377eb51cb3ca78552a3dce3f9500519439fbcff00f7c8aa9222e738c9f527340103e077c55592441d4e6802a4b72abd00154de7794e10124fa5007fffd0e786d14f0c3b0a009158d4a8c3d6802d411c929c471bb9f615a70693792725046beac6802fc5a301feb671f4519abb1d859c38ddc9ff0069a802ca794bfeaa2fc971fa9a782e7b01f8e68014827ab1fc29a5225f9980fab1cff3a00af2ddc4380e0ffbbcd50b8bd45071fa9ff0a00c4bad602920bf3e8b5026a5e6c65b3b7071cf5a0081ee99fee066f7a81c484659820a008596307bbb7a0e4d46e2eeeeeef88a5ef5b8dd420006080b000e000f0001cedb0019030052b824429dc0e49fc6803fffd1c18eca77e7cbc0f5638ab5169b9ff593a2ff00ba33401723b1b38f1e633b9f73815761fb3467f75027fdf3bbf53401752e2520055207b9c7f2a991a463cb81f419340161173f79d9bf1c54cb24517f7168014dfc4a33f330f5038fd6abc9ab81f75557dd8e68029cbac39e921c7fb22a91bf9250582127d58e2802a0b8bebc6f2ad628f7632cc5f217dfb0fe7504f1cf105fb46ec30c82c783f80a00a7359bbbee6648c11d18f34eb78e38b2a81a77f65e940163c8b87ea1215f7e4d44d14087e77695a801192465c222c495032c687925da803fffd2c742cdd5aacc69bbbb1fc6802dc5185e4281565180ee28eeeeeef88a5ef5b8dd420006090b000e000f0001cedb00190300024fb4a20e58527f68a2fdd6cfd2801ada8b37dd56fe550bdfb21f9a448fead40159f528b3cccce7b851517dbb79fdd40cdeec6802dd999677fde6d51e807f891fcea9dcc71a5c95f35a520e42e4b7e94017a4d435131aa10c84700b7079f6a8d606dbbe697e7fef1e71f4a00615b656c90d3b1f5e73fd2a40d3b2ed8e35897dff00c28019246a0667989f6ce05461b3c5b424fbe3028010dac921ccd263fd95a7a5bc71fdc503dfbd007fffd3c6fb6aafdc840fd297fb41ff00bb8fc6801a6f2e1dbe5976af73819fd4f34d99a753b6495c771b81048a0080b329dc0e48a9c5d4ec3fd62a0f6140099690ed696473e839a9a2b195bee5ac9ff0eeeeeef88a5ef5b8dd4200060a0b000e000f0001cedb001903003e07f4a00bb1695707a88a3faf26ac0d3624c7da2e8fd381fce80268fec701cc61d9fb1c9fff005529b997cdfddc5b41f51400d659a47dd24814f4f9454656dd0e5d8bb7b9c9a003cc623104071ebd050209dffd648107a28a007adac2873b7737ab734e3e8050034a7ad2600e9401ffd4e637807eee3fe07ffd6a7ab231e481f8e6802650b8004d8069fe4a13ccc0fd050028b78cf02424ff00b86b42010a2285b4dec060b320e7de802d2cd3e3090aa0ff007a97372dd6545ff7467f9d000500ff005b3b91f5c0a41f674fbab9fa64e7fa5004aad21188a0207bf0291edee5f0490bcf40680241669ff2d2467f6ed522c5147f7100a0018e69eeeeeef88a5ef5b8dd4200060b0b000e000f0001cedb0019030086801303bd2138e94011934c3401ffd5c3934c6c920a8f6cff008d45f629106ec6e51d7073fca802cc316307ecf2703d2ad22c9fc36d8fc85004e8b7246042abff0002152ac3747bc6a3f1a00905aca7ef4f8fa2d3c59a7f1c8eded9e280244b681390833528dabf7540fa0a005de6932680128a006938eb501b98b7840d96271c5004869a680227603ad42ee4f4e2803fffd9001585aa6a1595aa6a5595aa6a5595aa6a5595aa6a5595aa6a5495ae6a5595aa6a7595aa6a5595aa6b5595aa6e5595aa6a5595aa6a5595aa6a5585aa625595aa6a5595aa6a5595aa6a5595aa6a5595aa6a5595aa6a5595aa6a7595aa6a5595aa6a5595aa6a4595"
var cameraData = "eeeeeef88a5ef5b8dd420006010b000e000f0001cedb00190300ffd8ffdb008400140e0f120f0d14121012171514181e32211e1c1c1e3d2c2e243249404c4b47404645505a736250556d5645466488656d777b8182814e608d978c7d96737e817c011517171e1a1e3b21213b7c5346537c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7cffc0001108007800a003012100021101031101ffdd0004000affc401a20000010501010101010100000000000000000102030405060708090a0b100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090aeeeeeef88a5ef5b8dd420006020b000e000f0001cedb00190300161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9fa0100030101010101010101010000000000000102030405060708090a0b1100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a63646566676869eeeeeef88a5ef5b8dd420006040b000e000f0001cedb00190300f5a00e3efe208e40159af939cd00464530d0031852c6a646da319f738a006f43ef51b8e73401ffd1e55464d4a870411c1a009c396662c7716ea4f26aec16e4c9b783f439a00d0934f223cedacf962d84e477a00871b4e700fd69847e1400801a7a824f14016ed5bcb39ae862d518db9466e838a00c4bf7dcd91dcd65c828021614c22801b8cd348c1cd002919a691401ffd2e5c0cd3c0c1c5004c95b7a5157954be064f3401d84891fd9580036ede2b90bd1b5ce154d0067b262a32b9a0096d96332a094ed4cfcc71d053dd116665439504e0fad002fd2a5490814011bb6e3c8aaec06f24838f41401030e69840a00611cf4a49b0cec5576a939eeeeeef88a5ef5b8dd420006050b000e000f0001cedb001903000339c50046be94a45007ffd3e656a68577baa9214138c9e82801ebc1ad1b3711b03401bab7ee6209938acbba39909f5a00a8c33f4a8a4071c5000bc1c77a5c7cd93c50048bc77a783914008c066a075dbcf5a008ca82335132e28018c314d3401160eec814e2322803ffd4e60726a45a00956ad42db48e6802f47371c9a64aff0037140106e25883c5355307a9a000ae1c639a7138ebfad003370cf27229c251d05003cbe47538a56c119a0080c6475fe751b29cd00465298768a00633a8e951994f6a00ffd5e61454ab40128a991877a009d6418e29f90cb938a008da4524704d2ef3d863eb400d392324d228ddcd00298f34823c75a007ac65eeeeeef88a5ef5b8dd420006060b000e000f0001cedb0019030097e5cb63d0669cb1b8ea38a00475a85f8a00818d22c134bfeae366fc2801c74e94732b2c7f53cd44d0c11f52ce7f21401fffd6e647029eb9cf14013015220e680177107152ab64fb628014292c3d05295191ce2802558d9feea337e15662d3e67ecabf539a00b43483b72ecc7e8314dfb0c71f44e7d4f3400862e0e3b5356d679bfd542edee05003ff00b16e4f32b2443dcf34d3a55ac7ccb2bc87db81400dff00468bfd4c084fae3754334d2b0e3e51ee7fc280284a093cb7e5c5576818f45c0f53401fffd7e696a441cf4a00b03e829fb78cd003922dd9e0d598e0cf538fa0cd004ab6ca7aee3f8d588e145e8a07e14016e28f35af6b0a2807eeeeeef88a5ef5b8dd420006070b000e000f0001cedb0019030063b1fa7140168ab32e02281fed1cd40d611b12d3393fa0a0002dac5feaa3563ec377eb51cb3ca78552a3dce3f9500519439fbcff00f7c8aa9222e738c9f527340103e077c55592441d4e6802a4b72abd00154de7794e10124fa5007fffd0e786d14f0c3b0a009158d4a8c3d6802d411c929c471bb9f615a70693792725046beac6802fc5a301feb671f4519abb1d859c38ddc9ff0069a802ca794bfeaa2fc971fa9a782e7b01f8e68014827ab1fc29a5225f9980fab1cff3a00af2ddc4380e0ffbbcd50b8bd45071fa9ff0a00c4bad602920bf3e8b5026a5e6c65b3b7071cf5a0081ee99fee066f7a81c484659820a008596307bbb7a0e4d46e2eeeeeef88a5ef5b8dd420006080b000e000f0001cedb0019030052b824429dc0e49fc6803fffd1c18eca77e7cbc0f5638ab5169b9ff593a2ff00ba33401723b1b38f1e633b9f73815761fb3467f75027fdf3bbf53401752e2520055207b9c7f2a991a463cb81f419340161173f79d9bf1c54cb24517f7168014dfc4a33f330f5038fd6abc9ab81f75557dd8e68029cbac39e921c7fb22a91bf9250582127d58e2802a0b8bebc6f2ad628f7632cc5f217dfb0fe7504f1cf105fb46ec30c82c783f80a00a7359bbbee6648c11d18f34eb78e38b2a81a77f65e940163c8b87ea1215f7e4d44d14087e77695a801192465c222c495032c687925da803fffd2c742cdd5aacc69bbbb1fc6802dc5185e4281565180ee28eeeeeef88a5ef5b8dd420006090b000e000f0001cedb00190300024fb4a20e58527f68a2fdd6cfd2801ada8b37dd56fe550bdfb21f9a448fead40159f528b3cccce7b851517dbb79fdd40cdeec6802dd999677fde6d51e807f891fcea9dcc71a5c95f35a520e42e4b7e94017a4d435131aa10c84700b7079f6a8d606dbbe697e7fef1e71f4a00615b656c90d3b1f5e73fd2a40d3b2ed8e35897dff00c28019246a0667989f6ce05461b3c5b424fbe3028010dac921ccd263fd95a7a5bc71fdc503dfbd007fffd3c6fb6aafdc840fd297fb41ff00bb8fc6801a6f2e1dbe5976af73819fd4f34d99a753b6495c771b81048a0080b329dc0e48a9c5d4ec3fd62a0f6140099690ed696473e839a9a2b195bee5ac9ff0eeeeeef88a5ef5b8dd4200060a0b000e000f0001cedb001903003e07f4a00bb1695707a88a3faf26ac0d3624c7da2e8fd381fce80268fec701cc61d9fb1c9fff005529b997cdfddc5b41f51400d659a47dd24814f4f9454656dd0e5d8bb7b9c9a003cc623104071ebd050209dffd648107a28a007adac2873b7737ab734e3e8050034a7ad2600e9401ffd4e637807eee3fe07ffd6a7ab231e481f8e6802650b8004d8069fe4a13ccc0fd050028b78cf02424ff00b86b42010a2285b4dec060b320e7de802d2cd3e3090aa0ff007a97372dd6545ff7467f9d000500ff005b3b91f5c0a41f674fbab9fa64e7fa5004aad21188a0207bf0291edee5f0490bcf40680241669ff2d2467f6ed522c5147f7100a0018e69eeeeeef88a5ef5b8dd4200060b0b000e000f0001cedb0019030086801303bd2138e94011934c3401ffd5c3934c6c920a8f6cff008d45f629106ec6e51d7073fca802cc316307ecf2703d2ad22c9fc36d8fc85004e8b7246042abff0002152ac3747bc6a3f1a00905aca7ef4f8fa2d3c59a7f1c8eded9e280244b681390833528dabf7540fa0a005de6932680128a006938eb501b98b7840d96271c5004869a680227603ad42ee4f4e2803fffd9001585aa6a1595aa6a5595aa6a5595aa6a5595aa6a5595aa6a5495ae6a5595aa6a7595aa6a5595aa6b5595aa6e5595aa6a5595aa6a5595aa6a5585aa625595aa6a5595aa6a5595aa6a5595aa6a5595aa6a5595aa6a5595aa6a7595aa6a5595aa6a5595aa6a4595"
var lostData = "eeeeeef88a5ef5b8dd420006030b000e000f0001cedb001903006a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00e55646470c8c411dc1a00a0095453c0e280142b679a5c63b500210452500281c62a4418a00b5145bb8f5a924b420700d00529622a79a84ae280198c5348a0060ebcd3b710a46060fb5003446d21da8a59bb00326a2c60d007fffd0e4c726a555ce3140129465621860f7cd4a899eb4012f97c5248abc6c040c0ce4e79a008f1f5a4d831400a169ea28034b4f8d4cab93819aeb25d32168368ea075"
let DataArr = cameraData.split(cameraData.substr(0,24));

console.log(DataArr)


DataArr.forEach(element => { 
    if(element!=""){
        let msg = Buffer.from(transform.stringToHex(cameraData.substr(0,24) + element))
       
        console.log(msg)
        client.send(msg,1111,'140.124.33.80');
        
        
    }

});


client.on('message', function (message, remote) {
    
    console.log(remote.address + ':' + remote.port +' - ' + message);

});



