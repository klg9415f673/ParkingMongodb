var axios = require("axios");
const firestoreServiceURL = 'https://us-central1-utlcamera.cloudfunctions.net/cameraService_test'
const URL = 'https://us-central1-utlcamera.cloudfunctions.net/cameraService'
const data = "eeeeeef88a5ef5b9ae46000d0107002f00000000818103190000ffd8ffdb008400140e0f120f0d14121012171514181e32211e1c1c1e3d2c2e243249404c4b47404645505a736250556d5645466488656d777b8182814e608d978c7d96737e817c011517171e1a1e3b21213b7c5346537c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7cffc0001108007800a003012100021101031101ffdd0004000affc401a20000010501010101010100000000000000000102030405060708090a0b100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090aeeeeeef88a5ef5b9ae46000d0207002f00000000818103190000161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9fa0100030101010101010101010000000000000102030405060708090a0b1100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a63646566676869eeeeeef88a5ef5b9ae46000d0307002f000000008181031900006a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00e669a6801b45001494009450025140051400525002d1400e02a4514013463357218e803fffd0e6290d0021a4a004a2800a4a00292800a280128a005a502801e0548a2802c429cd68dba74e2803ffd1e64d250034d36800a5a004a4a0028a004a2800a280169c2801e054a82802dc0bcd6a5aa722803fffd2e648a43400869b4009450014940051400628c50014b4000a70a007ad4a9401720ad6b4eeeeeef88a5ef5b9ae46000d0407002f00000000818103190000ea2803ffd3e64d25002536800a280128a0028a005a31400628c5002814a05003c54a94016e1ad4b561c5007fffd4e66928010d25002518a0028a0028a002971400629680168a007035229a009e36abf6f260f5a00fffd5e6185028002292801314500145001450014b40051400b45002e69e0d004a8d56a17e6803ffd6e668c5002525001450018a31400628c50018a5a0028a0028a0029c0d003c1a951f1401ffd7e6a8a004a4a0028da4f406801769f4a511b13c0cd003bc97c74a69434009b4fa51b4fa1a0031494005140094a2801c0d381a00ffd0e6e9280142935218951033e4e7a0a008c914ac532f82dfece7fad0021db9e32463f5a0eeeeeef88a5ef5b9ae46000d0507002f00000000818103190000631ef40168fd9fec8cc0b098c9c2f60b8f5aa871400949400a1c8e848a72904e08a001a3c1a6ec3f5a00369f4a43c50019a506803fffd1e7314e4427a0a00b30db1620b7e545e42fbb013200ce47a500522292800a55058f1cd0039810a2a3a0028a004a55ceee2802d30f33ef0c13cf151f92e3a7340162da411b8f3e2f313b83fe35526015c81d3b50047466803fffd2e7d76f7eb5650e3a63f2a00b31c84902a794129f7b6e411907b1e0d0066b590cf0e28162b8f99ce7d850027d8e2ddb4cf83e856a416518c7ef4fbfcb400f6b4899701f07d71509b15071e72e7e94001d3fd251f9541f656cf245001f6639e58548b1aa0e393eb40012eeeeeef88a5ef5b9ae46000d0607002f00000000818103190000474a6f984500279cc298eeb264b0e7b6280203c1a2803fffd3e748e6a58e4c0c35003cdc851f20e7dea3fb4c87ab500279effde3569656f3e24c9c01f37b9c50020925c48436761db90339e7afe552090794e5642e7b1dbc8a008c4d2154cc849279c20c8fd28794801b7823190c53a9f4f6a0090bc9e64786196c1d98e83bd5279d95db0075a0069b83e828f3f3d462801e8e0d248bb7e94010337a533a9a0056eb49401fffd4e78d21181ef400da4a0007519e95701849dc2401b24e4d003d046a0f97328ce3bd3d5708db651b98e734002a48a4b2ba9663ce47142c070aacd951c918ea6800092acace0a1dc7b83902b364ff0058df5a0065eeeeeef88a5ef5b9ae46000d0707002f00000000818103190000140099a5c9f534006ea371f6fca8010d1401ffd5c0e07ad371b8f5a0042847bd30d00251400668a0029c2800a4a004229b8a004a729c5002b2771d29b8a0031c5281401fffd9"
const parameter = "eeeeeetest000000010001010700010000000081810003001900"
// eeeeee test00000001 0001 01 07 0001 0000 0000  81 81 0003   0019   00 
// 前導碼   裝置ID     相序  序 量 車位  地   地   R  R  S_V    溫度 狀態
var cameraData = ""
var DATA = data.split( data.substr(0,24));
DATA.forEach((temp) => {
                if (temp != "") {
                    temp = `${parameter}${temp.substr(28)}`;
                    cameraData = `${cameraData}${temp}`;
                }
            })


console.log(cameraData)
cameradata = { cameraData: String(cameraData)}



axios.post(firestoreServiceURL, { cameraData: cameradata}).then(console.log("upload OK")).catch(error => {
    console.log("upload ERROR : ", error)
    });






        
 
